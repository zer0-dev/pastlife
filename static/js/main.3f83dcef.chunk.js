(this.webpackJsonppastlife=this.webpackJsonppastlife||[]).push([[0],{183:function(e,t,a){e.exports=a(287)},287:function(e,t,a){"use strict";a.r(t);a(184),a(210),a(212),a(213),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(222),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(232),a(233),a(235),a(236),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252);var n=a(0),r=a.n(n),l=a(103),c=a.n(l),o=a(25),s=a.n(o),u=a(26),i=a(72),d=a.n(i),m=a(73),p=a.n(m),h=a(8),E=(a(270),a(51)),b=a.n(E),y=a(52),f=a.n(y),v=a(108),g=a.n(v),k=a(107),O=a.n(k),j=function(e){var t=e.id,a=e.days,n=e.months,l=e.years,c=e.day,o=e.month,s=e.year,u=e.onc,i=e.req;return r.a.createElement(b.a,{id:t},r.a.createElement(f.a,null,"\u041a\u0435\u043c \u0442\u044b \u0431\u044b\u043b \u0432 \u043f\u0440\u043e\u0448\u043b\u043e\u0439 \u0436\u0438\u0437\u043d\u0438?"),r.a.createElement(O.a,{style:{color:"gray"}},'\u0423\u0437\u043d\u0430\u0439\u0442\u0435, \u043a\u0435\u043c \u0432\u044b \u0431\u044b\u043b\u0438 \u0432 \u043f\u0440\u043e\u0448\u043b\u043e\u0439 \u0436\u0438\u0437\u043d\u0438! \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0441\u0432\u043e\u0435\u0433\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043d\u0438\u0436\u0435 \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 "\u0423\u0437\u043d\u0430\u0442\u044c".'),r.a.createElement(h.d,null,r.a.createElement(h.h,{top:"\u0414\u0435\u043d\u044c",id:"day",value:c,onChange:u,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0435\u043d\u044c"},a),r.a.createElement(h.h,{top:"\u041c\u0435\u0441\u044f\u0446",id:"month",value:o,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u044f\u0446",onChange:u,"data-day":"29"},n),r.a.createElement(h.h,{top:"\u0413\u043e\u0434",id:"year",value:s,onChange:u,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434"},l),r.a.createElement(g.a,{size:"xl",mode:"primary",onClick:i},"\u0423\u0437\u043d\u0430\u0442\u044c")))},_=a(109),S=a.n(_),A=a(110),w=a.n(A),x=function(e){return r.a.createElement(b.a,{id:e.id},r.a.createElement(f.a,null,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),r.a.createElement(h.e,{header:r.a.createElement(h.f,{mode:"secondary"},"\u041f\u043e\u043b:")},r.a.createElement(h.c,null,e.result.sex)),r.a.createElement(h.e,{header:r.a.createElement(h.f,{mode:"secondary"},"\u0413\u043e\u0434 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:")},r.a.createElement(h.c,null,e.result.birth)),r.a.createElement(h.e,{header:r.a.createElement(h.f,{mode:"secondary"},"\u0420\u043e\u0434\u0438\u043d\u0430:")},r.a.createElement(h.c,null,e.result.home)),r.a.createElement(h.e,{header:r.a.createElement(h.f,{mode:"secondary"},"\u0420\u043e\u0434 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438:")},r.a.createElement(h.c,null,e.result.prof)),r.a.createElement(h.e,{header:r.a.createElement(h.f,{mode:"secondary"},"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440:")},r.a.createElement(h.c,null,e.result.harak)),r.a.createElement(h.e,{header:r.a.createElement(h.f,{mode:"secondary"},"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0441\u043c\u0435\u0440\u0442\u0438:")},r.a.createElement(h.c,null,e.result.death)),null!=e.ads&&r.a.createElement(h.g,{bannerData:e.ads}),r.a.createElement(h.e,null,r.a.createElement(h.c,{style:{display:"flex"}},r.a.createElement(h.b,{size:"l",stretched:!0,mode:"secondary",style:{marginRight:8},before:r.a.createElement(S.a,null),onClick:e.go,"data-to":"home"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),r.a.createElement(h.b,{size:"l",stretched:!0,mode:"primary",before:r.a.createElement(w.a,null),onClick:e.openStory,"data-user":e.user,"data-result":e.result},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"))))},T=function(){for(var e=Object(n.useState)("home"),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),o=Object(u.a)(c,2),i=o[0],m=o[1],E=Object(n.useState)(r.a.createElement(p.a,{size:"large"})),b=Object(u.a)(E,2),y=b[0],f=b[1],v=[],g=["","\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"],k=[],O=1;O<32;O++)v.push(r.a.createElement("option",{value:O,key:O},O));for(O=1;O<13;O++)g[O]=r.a.createElement("option",{value:O,key:O},g[O]);for(g.shift(),O=(new Date).getFullYear();O>1900;O--)k.push(r.a.createElement("option",{value:O,key:O},O));var _=Object(n.useState)("0"),S=Object(u.a)(_,2),A=S[0],w=S[1],T=Object(n.useState)("0"),C=Object(u.a)(T,2),K=C[0],V=C[1],W=Object(n.useState)("0"),z=Object(u.a)(W,2),q=z[0],I=z[1],G=Object(n.useState)(v),J=Object(u.a)(G,2),N=J[0],B=J[1],D=Object(n.useState)(null),L=Object(u.a)(D,2),M=L[0],P=L[1],R=Object(n.useState)(null),F=Object(u.a)(R,2),H=F[0],U=F[1];Object(n.useEffect)((function(){s.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var r=document.createAttribute("scheme");r.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),s.a.send("VKWebAppGetAuthToken",{app_id:7659725,scope:""}).then((function(e){s.a.send("VKWebAppCallAPIMethod",{method:"users.get",request_id:"123",params:{fields:"bdate",v:"5.126",access_token:e.access_token}}).then((function(e){if(m(e.response[0]),void 0!==e.response[0].bdate){var t=e.response[0].bdate.split(".");void 0!==t[0]&&w(t[0]),void 0!==t[1]&&V(t[1]),void 0!==t[2]&&I(t[2])}})).catch((function(e){console.log(e)})),f(null)})),s.a.send("VKWebAppShowNativeAds",{ad_format:"preloader"})}),[]);var X=function(e){for(var t=[],a=1;a<e+1;a++)t.push(r.a.createElement("option",{value:a},a));B(t)},Y=function(e){f(null)};return r.a.createElement(d.a,{activePanel:a,popout:y},r.a.createElement(j,{id:"home",days:N,months:g,years:k,day:A,month:K,year:q,onc:function(e){var t=null,a=null;switch(e.currentTarget.id){case"day":w(e.currentTarget.value);break;case"month":t=e.currentTarget.value,V(e.currentTarget.value);break;case"year":a=e.currentTarget.value,I(e.currentTarget.value)}a=null===a?q:a,2===(t=null===t?K:t)&&a%4!==0||a%100===0&&a%400!==0?X(28):2===t&&a%4===0||a%100!==0&&a%400===0?X(29):t<8&&t%2===0?X(30):t<8&&t%2!==0||t>7&&t%2===0?X(31):t>7&&t%2!==0&&X(30)},req:function(e){f(r.a.createElement(p.a,{size:"large"})),s.a.send("VKWebAppGetAds",{}).then((function(e){U(e)}));var t=new XMLHttpRequest;t.open("GET","https://vovadev.ru/pastlife/get.php?"+window.location.href.split("?")[1]+"&day="+A+"&month="+K+"&year="+q),t.send(),t.onprogress=function(){if(200===t.status){var e=JSON.parse(t.response);""!==e.error?f(r.a.createElement(h.a,{actionsLayout:"vertical",actions:[{title:"\u041e\u041a",autoclose:!0,mode:"cancel"}],onClose:Y},r.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430"),r.a.createElement("p",null,e.error))):(P(e.response),l("result"),f(null))}}}}),r.a.createElement(x,{id:"result",go:function(e){l(e.currentTarget.dataset.to)},result:M,openStory:function(e){var t=i,a=M.id,n="https://vovadev.ru/pastlife/img.php?vkid="+t.id+"&id="+a;console.log(e.currentTarget.dataset);s.a.send("VKWebAppShowStoryBox",{background_type:"image",url:n,locked:!0,attachment:{text:"view",type:"url",url:"https://vk.com/app7659725"},stickers:[{sticker_type:"renderable",sticker:{content_type:"image",url:"https://vovadev.ru/pastlife/button.php",can_delete:!1,original_width:712,original_height:161,transform:{rotation:0,translation_x:0,translation_y:-.1,gravity:"center_bottom"},clickable_zones:[{action_type:"app",action:{app_id:7659725},clickable_area:[{x:0,y:0},{x:0,y:161},{x:712,y:161},{x:712,y:0}]}]}}]})},ads:H}))};s.a.send("VKWebAppInit"),c.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[183,1,2]]]);
//# sourceMappingURL=main.3f83dcef.chunk.js.map